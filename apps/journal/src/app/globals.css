@tailwind base;
@tailwind components;
@tailwind utilities;

/* Journal-specific overrides can live here. Shared tokens & utilities come from @ainexsuite/ui/styles. */

/* Journey App Theme - Orange/Pink */
:root {
  --app-primary: 24 95% 53%;       /* Orange-500 */
  --app-primary-foreground: 0 0% 100%;
  --app-secondary: 330 81% 60%;    /* Pink-500 */
  --app-secondary-foreground: 0 0% 100%;
}

.dark {
  --app-primary: 27 96% 61%;       /* Orange-400 */
  --app-primary-foreground: 0 0% 0%;
  --app-secondary: 330 76% 68%;    /* Pink-400 */
  --app-secondary-foreground: 0 0% 0%;
}

/* Text selection styling */
::selection {
  background-color: hsl(var(--app-primary) / 0.3);
  color: inherit;
}

.dark ::selection {
  background-color: hsl(var(--app-primary) / 0.4);
  color: inherit;
}

/* TipTap editor selection */
.ProseMirror ::selection {
  background-color: hsl(var(--app-primary) / 0.3);
  color: inherit;
}

.dark .ProseMirror ::selection {
  background-color: hsl(var(--app-primary) / 0.4);
  color: inherit;
}

/* ==============================================
   SPIRAL NOTEBOOK BINDING EFFECT
   Differentiates Journal from Notes app
   ============================================== */

/* Spiral binding colors - light mode */
:root {
  --spiral-ring-color: #a1a1aa;  /* zinc-400 - metal rings */
  --spiral-strip-color: #e4e4e7; /* zinc-200 - binding strip */
  --spiral-hole-color: #27272a;  /* zinc-800 - punch holes (dark for contrast) */
}

/* Spiral binding colors - dark mode */
.dark {
  --spiral-ring-color: #71717a;  /* zinc-500 - metal rings */
  --spiral-strip-color: #3f3f46; /* zinc-700 - binding strip */
  --spiral-hole-color: #18181b;  /* zinc-900 - punch holes */
}

/* Base spiral binding container */
.journal-spiral-binding {
  position: relative;
}

/* Binding strip with ring pattern */
.journal-spiral-binding::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 20px;
  pointer-events: none;
  z-index: 20;
  border-radius: inherit;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  /* Binding strip background */
  background: linear-gradient(
    to right,
    var(--spiral-strip-color) 0%,
    var(--spiral-strip-color) 70%,
    transparent 100%
  );
}

/* Spiral rings (the coils) */
.journal-spiral-binding::after {
  content: '';
  position: absolute;
  left: 2px;
  top: 8px;
  bottom: 8px;
  width: 16px;
  pointer-events: none;
  z-index: 21;

  /* Repeating ring pattern */
  background: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 6px,
    var(--spiral-hole-color) 6px,
    var(--spiral-hole-color) 8px,
    var(--spiral-ring-color) 8px,
    var(--spiral-ring-color) 12px,
    var(--spiral-hole-color) 12px,
    var(--spiral-hole-color) 14px,
    transparent 14px,
    transparent 24px
  );

  /* Circular mask for punch holes */
  -webkit-mask-image: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 4px,
    black 4px,
    black 16px,
    transparent 16px,
    transparent 24px
  );
  mask-image: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 4px,
    black 4px,
    black 16px,
    transparent 16px,
    transparent 24px
  );
}

/* Content padding to accommodate binding */
.journal-spiral-content {
  padding-left: 24px;
}

/* Modal-specific adjustments */
.journal-spiral-modal {
  min-height: 200px;
}

.journal-spiral-modal::before,
.journal-spiral-modal::after {
  border-radius: 0;
  top: 8px;
  bottom: 8px;
}

/* Hide spiral binding on mobile for cleaner UX */
@media (max-width: 639px) {
  .journal-spiral-binding::before,
  .journal-spiral-binding::after {
    display: none;
  }

  .journal-spiral-content {
    padding-left: 1.5rem;
  }
}
